<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="de">
<head>
<!-- Generated by javadoc -->
<title>OAuthAuthenticatingFilter (BCD-UI Api)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="OAuthAuthenticatingFilter (BCD-UI Api)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b style="font-size: 20pt; color: #fff">BCD-UI</b></div>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">de.businesscode.bcdui.subjectsettings.oauth2</a></div>
<h2 title="Class OAuthAuthenticatingFilter" class="title">Class OAuthAuthenticatingFilter</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.shiro.web.servlet.ServletContextSupport</li>
<li>
<ul class="inheritance">
<li>org.apache.shiro.web.servlet.AbstractFilter</li>
<li>
<ul class="inheritance">
<li>org.apache.shiro.web.servlet.NameableFilter</li>
<li>
<ul class="inheritance">
<li>org.apache.shiro.web.servlet.OncePerRequestFilter</li>
<li>
<ul class="inheritance">
<li>org.apache.shiro.web.servlet.AdviceFilter</li>
<li>
<ul class="inheritance">
<li>org.apache.shiro.web.filter.PathMatchingFilter</li>
<li>
<ul class="inheritance">
<li>org.apache.shiro.web.filter.AccessControlFilter</li>
<li>
<ul class="inheritance">
<li>org.apache.shiro.web.filter.authc.AuthenticationFilter</li>
<li>
<ul class="inheritance">
<li>org.apache.shiro.web.filter.authc.AuthenticatingFilter</li>
<li>
<ul class="inheritance">
<li>de.businesscode.bcdui.subjectsettings.oauth2.OAuthAuthenticatingFilter</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code>javax.servlet.Filter</code>, <code>org.apache.shiro.util.Nameable</code>, <code>org.apache.shiro.web.filter.PathConfigProcessor</code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">OAuthAuthenticatingFilter</span>
extends org.apache.shiro.web.filter.authc.AuthenticatingFilter</pre>
<div class="block">The flow here is (start = not authenticated request)
 <p><ol>
 <li> shiro asks <code>AuthenticatingFilter.isAccessAllowed(ServletRequest, ServletResponse, Object)</code>, which is false if subject is not authenticated
 <li> <a href="#onAccessDenied(javax.servlet.ServletRequest,javax.servlet.ServletResponse)"><code>onAccessDenied(ServletRequest, ServletResponse)</code></a> is called, here we detect if this a pending login-attempt (roundtrip back from AD including auth-code token) or we save current request and initiate a redirect to oauth authorization server and set redirect_url to link back to us
 <li> server responses with "code" http parameter, as so <a href="#isLoginRequest(javax.servlet.ServletRequest,javax.servlet.ServletResponse)"><code>isLoginRequest(ServletRequest, ServletResponse)</code></a> returns true here, as such <a href="#onAccessDenied(javax.servlet.ServletRequest,javax.servlet.ServletResponse)"><code>onAccessDenied(ServletRequest, ServletResponse)</code></a> triggers <code>AuthenticatingFilter.executeLogin(ServletRequest, ServletResponse)</code>
 <li> <code>AuthenticatingFilter.executeLogin(ServletRequest, ServletResponse)</code> queries <a href="#createToken(javax.servlet.ServletRequest,javax.servlet.ServletResponse)"><code>createToken(ServletRequest, ServletResponse)</code></a> to create a token (which here is basically the auth-code we got from AD), this token is passed to <code>Subject.login(AuthenticationToken)</code>
 <li> Shiro kicks in and asks each and every avaialable realm to process the authentication token delegated in previous step, our OAuthRealm connects to AD, queries for user-property we need internally (user-id) and returns as authenticated princial. No authorization is done on this level, just authentication, as such our oauth2 realm is authenticating only, and not authorizing
 <li> whenever permission are checked, Shiro scans next realms to authorize, here our jdbcrealm loads properties from database according to prinpical (user-id)
 <li> the <a href="#onLoginSuccess(org.apache.shiro.authc.AuthenticationToken,org.apache.shiro.subject.Subject,javax.servlet.ServletRequest,javax.servlet.ServletResponse)"><code>onLoginSuccess(AuthenticationToken, Subject, ServletRequest, ServletResponse)</code></a> is overriden as to delegate to <code>AuthenticationFilter.issueSuccessRedirect(ServletRequest, ServletResponse)</code> in order to redirect user to originally accessed url which was saved in step 2
 <ol></p>
 all final methods on these class define the flow and must not be changed.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#authorizeEndpoint">authorizeEndpoint</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#authScope">authScope</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#clientId">clientId</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#optionalProviderId">optionalProviderId</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#redirectUrl">redirectUrl</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#SESSION_ATTR_KEY_AUTH_STATE">SESSION_ATTR_KEY_AUTH_STATE</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#SESSION_ATTR_KEY_ORIG_URL">SESSION_ATTR_KEY_ORIG_URL</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#SESSION_ATTR_KEY_PROVIDER_INSTANCE_ID">SESSION_ATTR_KEY_PROVIDER_INSTANCE_ID</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#successUrl">successUrl</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#urlParameterName">urlParameterName</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="fields.inherited.from.class.org.apache.shiro.web.filter.authc.AuthenticatingFilter">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.apache.shiro.web.filter.authc.AuthenticatingFilter</h3>
<code>PERMISSIVE</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="fields.inherited.from.class.org.apache.shiro.web.filter.authc.AuthenticationFilter">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.apache.shiro.web.filter.authc.AuthenticationFilter</h3>
<code>DEFAULT_SUCCESS_URL</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="fields.inherited.from.class.org.apache.shiro.web.filter.AccessControlFilter">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.apache.shiro.web.filter.AccessControlFilter</h3>
<code>DEFAULT_LOGIN_URL, GET_METHOD, POST_METHOD</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="fields.inherited.from.class.org.apache.shiro.web.filter.PathMatchingFilter">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.apache.shiro.web.filter.PathMatchingFilter</h3>
<code>appliedPaths, pathMatcher</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="fields.inherited.from.class.org.apache.shiro.web.servlet.OncePerRequestFilter">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.apache.shiro.web.servlet.OncePerRequestFilter</h3>
<code>ALREADY_FILTERED_SUFFIX</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="fields.inherited.from.class.org.apache.shiro.web.servlet.AbstractFilter">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.apache.shiro.web.servlet.AbstractFilter</h3>
<code>filterConfig</code></li>
</ul>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">OAuthAuthenticatingFilter</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#constructLoginUrl(javax.servlet.ServletRequest,javax.servlet.ServletResponse)">constructLoginUrl</a></span>&#8203;(javax.servlet.ServletRequest&nbsp;request,
                 javax.servlet.ServletResponse&nbsp;response)</code></th>
<td class="colLast">
<div class="block">This method basically knows how to construct a login url to authority and delegate creation of redirect_uri to
 <a href="#constructRedirectUrl(javax.servlet.ServletRequest,javax.servlet.ServletResponse)"><code>constructRedirectUrl(ServletRequest, ServletResponse)</code></a>.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#constructRedirectUrl(javax.servlet.ServletRequest,javax.servlet.ServletResponse)">constructRedirectUrl</a></span>&#8203;(javax.servlet.ServletRequest&nbsp;request,
                    javax.servlet.ServletResponse&nbsp;response)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#createStateValue()">createStateValue</a></span>()</code></th>
<td class="colLast">
<div class="block">creates a state value used to prevent CRSF. this implementation creates UUID</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected org.apache.shiro.authc.AuthenticationToken</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#createToken(javax.servlet.ServletRequest,javax.servlet.ServletResponse)">createToken</a></span>&#8203;(javax.servlet.ServletRequest&nbsp;request,
           javax.servlet.ServletResponse&nbsp;response)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getAuthorizeEndpoint()">getAuthorizeEndpoint</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getAuthScope()">getAuthScope</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getClientId()">getClientId</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getOptionalProviderId()">getOptionalProviderId</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getRedirectUrl()">getRedirectUrl</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getSuccessUrl()">getSuccessUrl</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getUrlParameterName()">getUrlParameterName</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isEnabled(javax.servlet.ServletRequest,javax.servlet.ServletResponse)">isEnabled</a></span>&#8203;(javax.servlet.ServletRequest&nbsp;request,
         javax.servlet.ServletResponse&nbsp;response)</code></th>
<td class="colLast">
<div class="block">supports .enable flag and also handles a round-trip from authorization server; in order to provide extend with your logic please override
 <a href="#isEnabledByProvider(javax.servlet.ServletRequest,javax.servlet.ServletResponse)"><code>isEnabledByProvider(ServletRequest, ServletResponse)</code></a></div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>protected java.lang.Boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isEnabledByProvider(javax.servlet.ServletRequest,javax.servlet.ServletResponse)">isEnabledByProvider</a></span>&#8203;(javax.servlet.ServletRequest&nbsp;request,
                   javax.servlet.ServletResponse&nbsp;response)</code></th>
<td class="colLast">
<div class="block">current implementation checks if parameter <a href="#getUrlParameterName()"><code>getUrlParameterName()</code></a> equals to <a href="#getOptionalProviderId()"><code>getOptionalProviderId()</code></a>.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isLoginRequest(javax.servlet.ServletRequest,javax.servlet.ServletResponse)">isLoginRequest</a></span>&#8203;(javax.servlet.ServletRequest&nbsp;request,
              javax.servlet.ServletResponse&nbsp;response)</code></th>
<td class="colLast">
<div class="block">according to redirect_url set previously in <a href="#redirectToLogin(javax.servlet.ServletRequest,javax.servlet.ServletResponse)"><code>redirectToLogin(ServletRequest, ServletResponse)</code></a></div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#onAccessDenied(javax.servlet.ServletRequest,javax.servlet.ServletResponse)">onAccessDenied</a></span>&#8203;(javax.servlet.ServletRequest&nbsp;request,
              javax.servlet.ServletResponse&nbsp;response)</code></th>
<td class="colLast">
<div class="block">handle <code>AccessControlFilter.saveRequestAndRedirectToLogin(ServletRequest, ServletResponse)</code> and redirection to authorization server, in addition creates a state, which
 is checked in <a href="#isLoginRequest(javax.servlet.ServletRequest,javax.servlet.ServletResponse)"><code>isLoginRequest(ServletRequest, ServletResponse)</code></a> to prevent CSRF and used in
 <a href="#constructLoginUrl(javax.servlet.ServletRequest,javax.servlet.ServletResponse)"><code>constructLoginUrl(ServletRequest, ServletResponse)</code></a> to serialize a state to URL</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#onLoginSuccess(org.apache.shiro.authc.AuthenticationToken,org.apache.shiro.subject.Subject,javax.servlet.ServletRequest,javax.servlet.ServletResponse)">onLoginSuccess</a></span>&#8203;(org.apache.shiro.authc.AuthenticationToken&nbsp;token,
              org.apache.shiro.subject.Subject&nbsp;subject,
              javax.servlet.ServletRequest&nbsp;request,
              javax.servlet.ServletResponse&nbsp;response)</code></th>
<td class="colLast">
<div class="block">delegate here to <code>AuthenticationFilter.issueSuccessRedirect(ServletRequest, ServletResponse)</code> which we previously saved in
 <a href="#onAccessDenied(javax.servlet.ServletRequest,javax.servlet.ServletResponse)"><code>onAccessDenied(ServletRequest, ServletResponse)</code></a></div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#redirectToLogin(javax.servlet.ServletRequest,javax.servlet.ServletResponse)">redirectToLogin</a></span>&#8203;(javax.servlet.ServletRequest&nbsp;request,
               javax.servlet.ServletResponse&nbsp;response)</code></th>
<td class="colLast">
<div class="block">need custom override, as such <code>AccessControlFilter.getLoginUrl()</code> is ineffective, because we need to construct redirect_uri the utilities of
 <code>HttpServletResponse</code>.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>protected &lt;T&gt;&nbsp;T</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#retrieveSessionProperty(javax.servlet.ServletRequest,java.lang.String,T)">retrieveSessionProperty</a></span>&#8203;(javax.servlet.ServletRequest&nbsp;request,
                       java.lang.String&nbsp;key,
                       T&nbsp;defaultValue)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#saveSessionProperty(javax.servlet.ServletRequest,java.lang.String,java.lang.String)">saveSessionProperty</a></span>&#8203;(javax.servlet.ServletRequest&nbsp;request,
                   java.lang.String&nbsp;key,
                   java.lang.String&nbsp;value)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setAuthorizeEndpoint(java.lang.String)">setAuthorizeEndpoint</a></span>&#8203;(java.lang.String&nbsp;authorityUrl)</code></th>
<td class="colLast">
<div class="block">sets the /authorize endpoint</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setAuthScope(java.lang.String)">setAuthScope</a></span>&#8203;(java.lang.String&nbsp;authScope)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setClientId(java.lang.String)">setClientId</a></span>&#8203;(java.lang.String&nbsp;clientId)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setLoginUrl(java.lang.String)">setLoginUrl</a></span>&#8203;(java.lang.String&nbsp;loginUrl)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setOptionalProviderId(java.lang.String)">setOptionalProviderId</a></span>&#8203;(java.lang.String&nbsp;optionalProviderId)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setRedirectUrl(java.lang.String)">setRedirectUrl</a></span>&#8203;(java.lang.String&nbsp;redirectUrl)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setSuccessUrl(java.lang.String)">setSuccessUrl</a></span>&#8203;(java.lang.String&nbsp;successUrl)</code></th>
<td class="colLast">
<div class="block">override successUrl and dont set a default one, since successUrl is usually a redirectUrl in our case, but in case we provide successUrl this will be
 explicitly redirected after successful login overriding whatever original url user navigated to</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setUrlParameterName(java.lang.String)">setUrlParameterName</a></span>&#8203;(java.lang.String&nbsp;urlParameterName)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.org.apache.shiro.web.filter.authc.AuthenticatingFilter">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.shiro.web.filter.authc.AuthenticatingFilter</h3>
<code>cleanup, createToken, createToken, executeLogin, getHost, isAccessAllowed, isPermissive, isRememberMe, onLoginFailure</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.org.apache.shiro.web.filter.authc.AuthenticationFilter">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.shiro.web.filter.authc.AuthenticationFilter</h3>
<code>issueSuccessRedirect</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.org.apache.shiro.web.filter.AccessControlFilter">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.shiro.web.filter.AccessControlFilter</h3>
<code>getLoginUrl, getSubject, onAccessDenied, onPreHandle, saveRequest, saveRequestAndRedirectToLogin</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.org.apache.shiro.web.filter.PathMatchingFilter">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.shiro.web.filter.PathMatchingFilter</h3>
<code>getPathWithinApplication, isEnabled, pathsMatch, pathsMatch, preHandle, processPathConfig</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.org.apache.shiro.web.servlet.AdviceFilter">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.shiro.web.servlet.AdviceFilter</h3>
<code>afterCompletion, doFilterInternal, executeChain, postHandle</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.org.apache.shiro.web.servlet.OncePerRequestFilter">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.shiro.web.servlet.OncePerRequestFilter</h3>
<code>doFilter, getAlreadyFilteredAttributeName, isEnabled, setEnabled, shouldNotFilter</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.org.apache.shiro.web.servlet.NameableFilter">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.shiro.web.servlet.NameableFilter</h3>
<code>getName, setName, toStringBuilder</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.org.apache.shiro.web.servlet.AbstractFilter">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.shiro.web.servlet.AbstractFilter</h3>
<code>destroy, getFilterConfig, getInitParam, init, onFilterConfigSet, setFilterConfig</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.org.apache.shiro.web.servlet.ServletContextSupport">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.shiro.web.servlet.ServletContextSupport</h3>
<code>getContextAttribute, getContextInitParam, getServletContext, removeContextAttribute, setContextAttribute, setServletContext, toString</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="SESSION_ATTR_KEY_AUTH_STATE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SESSION_ATTR_KEY_AUTH_STATE</h4>
<pre>public static final&nbsp;java.lang.String SESSION_ATTR_KEY_AUTH_STATE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#de.businesscode.bcdui.subjectsettings.oauth2.OAuthAuthenticatingFilter.SESSION_ATTR_KEY_AUTH_STATE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="SESSION_ATTR_KEY_PROVIDER_INSTANCE_ID">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SESSION_ATTR_KEY_PROVIDER_INSTANCE_ID</h4>
<pre>public static final&nbsp;java.lang.String SESSION_ATTR_KEY_PROVIDER_INSTANCE_ID</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#de.businesscode.bcdui.subjectsettings.oauth2.OAuthAuthenticatingFilter.SESSION_ATTR_KEY_PROVIDER_INSTANCE_ID">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="SESSION_ATTR_KEY_ORIG_URL">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SESSION_ATTR_KEY_ORIG_URL</h4>
<pre>public static final&nbsp;java.lang.String SESSION_ATTR_KEY_ORIG_URL</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#de.businesscode.bcdui.subjectsettings.oauth2.OAuthAuthenticatingFilter.SESSION_ATTR_KEY_ORIG_URL">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="clientId">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clientId</h4>
<pre>protected&nbsp;java.lang.String clientId</pre>
</li>
</ul>
<a id="redirectUrl">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>redirectUrl</h4>
<pre>protected&nbsp;java.lang.String redirectUrl</pre>
</li>
</ul>
<a id="authorizeEndpoint">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>authorizeEndpoint</h4>
<pre>protected&nbsp;java.lang.String authorizeEndpoint</pre>
</li>
</ul>
<a id="urlParameterName">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>urlParameterName</h4>
<pre>protected&nbsp;java.lang.String urlParameterName</pre>
</li>
</ul>
<a id="optionalProviderId">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>optionalProviderId</h4>
<pre>protected&nbsp;java.lang.String optionalProviderId</pre>
</li>
</ul>
<a id="authScope">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>authScope</h4>
<pre>protected&nbsp;java.lang.String authScope</pre>
</li>
</ul>
<a id="successUrl">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>successUrl</h4>
<pre>protected&nbsp;java.lang.String successUrl</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>OAuthAuthenticatingFilter</h4>
<pre>public&nbsp;OAuthAuthenticatingFilter()</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="setSuccessUrl(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSuccessUrl</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setSuccessUrl&#8203;(java.lang.String&nbsp;successUrl)</pre>
<div class="block">override successUrl and dont set a default one, since successUrl is usually a redirectUrl in our case, but in case we provide successUrl this will be
 explicitly redirected after successful login overriding whatever original url user navigated to</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>setSuccessUrl</code>&nbsp;in class&nbsp;<code>org.apache.shiro.web.filter.authc.AuthenticationFilter</code></dd>
</dl>
</li>
</ul>
<a id="getSuccessUrl()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSuccessUrl</h4>
<pre class="methodSignature">public&nbsp;java.lang.String&nbsp;getSuccessUrl()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>getSuccessUrl</code>&nbsp;in class&nbsp;<code>org.apache.shiro.web.filter.authc.AuthenticationFilter</code></dd>
</dl>
</li>
</ul>
<a id="getClientId()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getClientId</h4>
<pre class="methodSignature">public&nbsp;java.lang.String&nbsp;getClientId()</pre>
</li>
</ul>
<a id="getAuthorizeEndpoint()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAuthorizeEndpoint</h4>
<pre class="methodSignature">public&nbsp;java.lang.String&nbsp;getAuthorizeEndpoint()</pre>
</li>
</ul>
<a id="setAuthScope(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAuthScope</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setAuthScope&#8203;(java.lang.String&nbsp;authScope)</pre>
</li>
</ul>
<a id="getAuthScope()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAuthScope</h4>
<pre class="methodSignature">public&nbsp;java.lang.String&nbsp;getAuthScope()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the scope as of oauth2, contains space separated scopes. must not be encoded as it will happen later</dd>
</dl>
</li>
</ul>
<a id="setAuthorizeEndpoint(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAuthorizeEndpoint</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setAuthorizeEndpoint&#8203;(java.lang.String&nbsp;authorityUrl)</pre>
<div class="block">sets the /authorize endpoint</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>authorityUrl</code> - </dd>
</dl>
</li>
</ul>
<a id="setRedirectUrl(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRedirectUrl</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setRedirectUrl&#8203;(java.lang.String&nbsp;redirectUrl)</pre>
</li>
</ul>
<a id="setClientId(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setClientId</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setClientId&#8203;(java.lang.String&nbsp;clientId)</pre>
</li>
</ul>
<a id="getUrlParameterName()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUrlParameterName</h4>
<pre class="methodSignature">public&nbsp;java.lang.String&nbsp;getUrlParameterName()</pre>
</li>
</ul>
<a id="getRedirectUrl()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRedirectUrl</h4>
<pre class="methodSignature">public&nbsp;java.lang.String&nbsp;getRedirectUrl()</pre>
</li>
</ul>
<a id="setUrlParameterName(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setUrlParameterName</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setUrlParameterName&#8203;(java.lang.String&nbsp;urlParameterName)</pre>
</li>
</ul>
<a id="getOptionalProviderId()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOptionalProviderId</h4>
<pre class="methodSignature">public&nbsp;java.lang.String&nbsp;getOptionalProviderId()</pre>
</li>
</ul>
<a id="setOptionalProviderId(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setOptionalProviderId</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setOptionalProviderId&#8203;(java.lang.String&nbsp;optionalProviderId)</pre>
</li>
</ul>
<a id="isEnabled(javax.servlet.ServletRequest,javax.servlet.ServletResponse)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isEnabled</h4>
<pre class="methodSignature">protected final&nbsp;boolean&nbsp;isEnabled&#8203;(javax.servlet.ServletRequest&nbsp;request,
                                  javax.servlet.ServletResponse&nbsp;response)
                           throws javax.servlet.ServletException,
                                  java.io.IOException</pre>
<div class="block">supports .enable flag and also handles a round-trip from authorization server; in order to provide extend with your logic please override
 <a href="#isEnabledByProvider(javax.servlet.ServletRequest,javax.servlet.ServletResponse)"><code>isEnabledByProvider(ServletRequest, ServletResponse)</code></a></div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>isEnabled</code>&nbsp;in class&nbsp;<code>org.apache.shiro.web.servlet.OncePerRequestFilter</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.servlet.ServletException</code></dd>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a id="isEnabledByProvider(javax.servlet.ServletRequest,javax.servlet.ServletResponse)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isEnabledByProvider</h4>
<pre class="methodSignature">protected&nbsp;java.lang.Boolean&nbsp;isEnabledByProvider&#8203;(javax.servlet.ServletRequest&nbsp;request,
                                                javax.servlet.ServletResponse&nbsp;response)</pre>
<div class="block">current implementation checks if parameter <a href="#getUrlParameterName()"><code>getUrlParameterName()</code></a> equals to <a href="#getOptionalProviderId()"><code>getOptionalProviderId()</code></a>. You can override this method to
 provide different recognition, i.e. if specific HTTP header is set (i.e. by proxy)</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - </dd>
<dd><code>response</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true to enable processing, false to disable processing or null to delegate decision further</dd>
</dl>
</li>
</ul>
<a id="setLoginUrl(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLoginUrl</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setLoginUrl&#8203;(java.lang.String&nbsp;loginUrl)</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>setLoginUrl</code>&nbsp;in class&nbsp;<code>org.apache.shiro.web.filter.AccessControlFilter</code></dd>
</dl>
</li>
</ul>
<a id="constructRedirectUrl(javax.servlet.ServletRequest,javax.servlet.ServletResponse)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>constructRedirectUrl</h4>
<pre class="methodSignature">protected&nbsp;java.lang.String&nbsp;constructRedirectUrl&#8203;(javax.servlet.ServletRequest&nbsp;request,
                                                javax.servlet.ServletResponse&nbsp;response)
                                         throws java.io.IOException</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - </dd>
<dd><code>response</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>either configured redirectUrl or construct one to the context; currently .redirectUrl must be provided</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.UnsupportedEncodingException</code></dd>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a id="redirectToLogin(javax.servlet.ServletRequest,javax.servlet.ServletResponse)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>redirectToLogin</h4>
<pre class="methodSignature">protected final&nbsp;void&nbsp;redirectToLogin&#8203;(javax.servlet.ServletRequest&nbsp;request,
                                     javax.servlet.ServletResponse&nbsp;response)
                              throws java.io.IOException</pre>
<div class="block">need custom override, as such <code>AccessControlFilter.getLoginUrl()</code> is ineffective, because we need to construct redirect_uri the utilities of
 <code>HttpServletResponse</code>. This method uses <a href="#constructLoginUrl(javax.servlet.ServletRequest,javax.servlet.ServletResponse)"><code>constructLoginUrl(ServletRequest, ServletResponse)</code></a> to create a login url to authority.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>redirectToLogin</code>&nbsp;in class&nbsp;<code>org.apache.shiro.web.filter.AccessControlFilter</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - </dd>
<dd><code>response</code> - </dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a id="constructLoginUrl(javax.servlet.ServletRequest,javax.servlet.ServletResponse)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>constructLoginUrl</h4>
<pre class="methodSignature">protected&nbsp;java.lang.String&nbsp;constructLoginUrl&#8203;(javax.servlet.ServletRequest&nbsp;request,
                                             javax.servlet.ServletResponse&nbsp;response)
                                      throws java.io.IOException</pre>
<div class="block">This method basically knows how to construct a login url to authority and delegate creation of redirect_uri to
 <a href="#constructRedirectUrl(javax.servlet.ServletRequest,javax.servlet.ServletResponse)"><code>constructRedirectUrl(ServletRequest, ServletResponse)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - </dd>
<dd><code>response</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>URL to be used for login</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a id="createToken(javax.servlet.ServletRequest,javax.servlet.ServletResponse)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createToken</h4>
<pre class="methodSignature">protected&nbsp;org.apache.shiro.authc.AuthenticationToken&nbsp;createToken&#8203;(javax.servlet.ServletRequest&nbsp;request,
                                                                 javax.servlet.ServletResponse&nbsp;response)
                                                          throws java.lang.Exception</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>createToken</code>&nbsp;in class&nbsp;<code>org.apache.shiro.web.filter.authc.AuthenticatingFilter</code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>authentication token which is used by <code>AuthenticatingFilter.executeLogin(ServletRequest, ServletResponse)</code> method</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a id="onLoginSuccess(org.apache.shiro.authc.AuthenticationToken,org.apache.shiro.subject.Subject,javax.servlet.ServletRequest,javax.servlet.ServletResponse)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onLoginSuccess</h4>
<pre class="methodSignature">protected final&nbsp;boolean&nbsp;onLoginSuccess&#8203;(org.apache.shiro.authc.AuthenticationToken&nbsp;token,
                                       org.apache.shiro.subject.Subject&nbsp;subject,
                                       javax.servlet.ServletRequest&nbsp;request,
                                       javax.servlet.ServletResponse&nbsp;response)
                                throws java.lang.Exception</pre>
<div class="block">delegate here to <code>AuthenticationFilter.issueSuccessRedirect(ServletRequest, ServletResponse)</code> which we previously saved in
 <a href="#onAccessDenied(javax.servlet.ServletRequest,javax.servlet.ServletResponse)"><code>onAccessDenied(ServletRequest, ServletResponse)</code></a></div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>onLoginSuccess</code>&nbsp;in class&nbsp;<code>org.apache.shiro.web.filter.authc.AuthenticatingFilter</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a id="isLoginRequest(javax.servlet.ServletRequest,javax.servlet.ServletResponse)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isLoginRequest</h4>
<pre class="methodSignature">protected&nbsp;boolean&nbsp;isLoginRequest&#8203;(javax.servlet.ServletRequest&nbsp;request,
                                 javax.servlet.ServletResponse&nbsp;response)</pre>
<div class="block">according to redirect_url set previously in <a href="#redirectToLogin(javax.servlet.ServletRequest,javax.servlet.ServletResponse)"><code>redirectToLogin(ServletRequest, ServletResponse)</code></a></div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>isLoginRequest</code>&nbsp;in class&nbsp;<code>org.apache.shiro.web.filter.AccessControlFilter</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - </dd>
<dd><code>response</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if this is a login request</dd>
</dl>
</li>
</ul>
<a id="retrieveSessionProperty(javax.servlet.ServletRequest,java.lang.String,java.lang.Object)">
<!--   -->
</a><a id="retrieveSessionProperty(javax.servlet.ServletRequest,java.lang.String,T)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>retrieveSessionProperty</h4>
<pre class="methodSignature">protected&nbsp;&lt;T&gt;&nbsp;T&nbsp;retrieveSessionProperty&#8203;(javax.servlet.ServletRequest&nbsp;request,
                                        java.lang.String&nbsp;key,
                                        T&nbsp;defaultValue)</pre>
</li>
</ul>
<a id="saveSessionProperty(javax.servlet.ServletRequest,java.lang.String,java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>saveSessionProperty</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;saveSessionProperty&#8203;(javax.servlet.ServletRequest&nbsp;request,
                                   java.lang.String&nbsp;key,
                                   java.lang.String&nbsp;value)</pre>
</li>
</ul>
<a id="createStateValue()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createStateValue</h4>
<pre class="methodSignature">protected&nbsp;java.lang.String&nbsp;createStateValue()</pre>
<div class="block">creates a state value used to prevent CRSF. this implementation creates UUID</div>
</li>
</ul>
<a id="onAccessDenied(javax.servlet.ServletRequest,javax.servlet.ServletResponse)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>onAccessDenied</h4>
<pre class="methodSignature">protected final&nbsp;boolean&nbsp;onAccessDenied&#8203;(javax.servlet.ServletRequest&nbsp;request,
                                       javax.servlet.ServletResponse&nbsp;response)
                                throws java.lang.Exception</pre>
<div class="block">handle <code>AccessControlFilter.saveRequestAndRedirectToLogin(ServletRequest, ServletResponse)</code> and redirection to authorization server, in addition creates a state, which
 is checked in <a href="#isLoginRequest(javax.servlet.ServletRequest,javax.servlet.ServletResponse)"><code>isLoginRequest(ServletRequest, ServletResponse)</code></a> to prevent CSRF and used in
 <a href="#constructLoginUrl(javax.servlet.ServletRequest,javax.servlet.ServletResponse)"><code>constructLoginUrl(ServletRequest, ServletResponse)</code></a> to serialize a state to URL</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>onAccessDenied</code>&nbsp;in class&nbsp;<code>org.apache.shiro.web.filter.AccessControlFilter</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b style="font-size: 20pt; color: #fff">BCD-UI</b></div>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
